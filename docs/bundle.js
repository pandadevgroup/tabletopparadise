!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=18)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=function(){function t(t,e,r,i,o,a){void 0===a&&(a=!0);var s=this;this.domHelper=t,this.parent=e,this.number=r,this.suit=i,this.index=o,this.visible=a,this._actionable=!1,this.selected=!1,this.$card=t.createCardFrag(this.getImgName(),a),this.$card.click(function(){s.actionable&&(s.selected=!s.selected,s.parent instanceof n.CardGamePlayer&&s.parent.handleCardClick(s.index))})}return Object.defineProperty(t.prototype,"actionable",{get:function(){return this._actionable},set:function(t){this._actionable=t,t?this.$card.addClass("actionable"):this.$card.removeClass("actionable")},enumerable:!0,configurable:!0}),t.prototype.resize=function(){var t=this.parent.getCardPosition(this.index);this.domHelper.updateEl(this.$card,t)},t.prototype.setParent=function(t){this.parent=t},t.prototype.setVisible=function(t){this.visible=t,this.visible?this.$card.removeClass("card--hidden"):this.$card.addClass("card--hidden")},t.prototype.getImgName=function(){if(this.number<=10)return this.suit+"s/"+this.number+this.suit[0];return this.suit+"s/"+["j","q","k"][this.number-11]+this.suit[0]},t.prototype.toString=function(){return this.number+" of "+this.suit+"s"},t.ACE=1,t.JACK=11,t.QUEEN=12,t.KING=13,t.faceCards=[t.JACK,t.QUEEN,t.KING],t.CLUB="club",t.DIAMOND="diamond",t.HEART="heart",t.SPADE="spade",t.suits=[t.CLUB,t.DIAMOND,t.HEART,t.SPADE],t}();e.Card=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(11),i=function(){function t(t,e,r,n,i){this.domHelper=t,this.game=e,this.name=r,this.position=n,this.hideCards=i,this.cards=[],this.selectedCards=[]}return t.prototype.resize=function(){this.cards.forEach(function(t){return t.resize()})},t.prototype.getCardPosition=function(t){var e=this.game.tabletop,r=this.game.layoutOpts,n=this.cards[t].selected,i=Math.round(e.width/2-r.cardWidth/2-r.cardSpacing*(this.cards.length-1)/2),o=Math.round(e.height/2-r.cardWidth/2-r.cardSpacing*(this.cards.length-1)/2);return"bottom"===this.position?{x:i+r.cardSpacing*t,y:e.height-r.cardHeight-r.playerPadding-(n?r.cardShift:0),rotateX:this.hideCards?180:0,zIndex:t}:"left"===this.position?{x:Math.round(r.playerPadding+(r.cardHeight-r.cardWidth)/2)+(n?r.cardShift:0),y:o+r.cardSpacing*t,rotateX:this.hideCards?180:0,rotateZ:90,zIndex:t}:"right"===this.position?{x:Math.round(e.width-r.playerPadding-r.cardWidth-(r.cardHeight-r.cardWidth)/2)-(n?r.cardShift:0),y:o+r.cardSpacing*t,rotateX:this.hideCards?180:0,rotateZ:90,zIndex:t}:"top"===this.position?{x:i+r.cardSpacing*t,y:r.playerPadding+(n?r.cardShift:0),rotateX:this.hideCards?180:0,zIndex:t}:void 0},t.prototype.addCards=function(t){var e=this;this.cards=this.cards.concat(t),n.CardUtils.sortCards(this.cards),this.cards.forEach(function(t,r){t.index=r,t.setParent(e),t.setVisible(!0)})},t.prototype.handleCardClick=function(t){var e=this.cards[t];e.resize(),e.selected?this.selectedCards.push(e):this.selectedCards.splice(this.selectedCards.indexOf(e),1),this.game.onCardClick(t)},t}();e.CardGamePlayer=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(t,e,r){this.domHelper=t,this.game=e,this.visible=r,this._actionable=!1,this.initialize()}return Object.defineProperty(t.prototype,"actionable",{get:function(){return this._actionable},set:function(t){this._actionable=t,t&&this.$deck?this.$deck.addClass("actionable"):this.$deck&&this.$deck.removeClass("actionable")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cards",{get:function(){return this._cards},enumerable:!0,configurable:!0}),t.prototype.get=function(t){if(t>this.cards.length)throw"Not enough cards in deck";return this._cards.splice(0,t)},t.prototype.getCardPosition=function(t){return{x:Math.round(this.game.tabletop.width/2-this.game.layoutOpts.cardWidth/2),y:Math.round(this.game.tabletop.height/2-this.game.layoutOpts.cardHeight/2),rotateX:180}},t.prototype.shuffle=function(t){return void 0===t&&(t=function(t){for(var e,r,n=t.length;n;)r=Math.floor(Math.random()*n--),e=t[n],t[n]=t[r],t[r]=e;return t}),this._cards=t(this._cards),this},t.prototype.resize=function(){return this.domHelper.updateEl(this.$deck,this.getCardPosition()),this._cards.forEach(function(t){return t.resize()}),this},t.prototype.initialize=function(){var t=this;this._cards=[];for(var e=0;e<13;e++)this._cards.push(new n.Card(this.domHelper,this,e+1,"club",this._cards.length,!1)),this._cards.push(new n.Card(this.domHelper,this,e+1,"diamond",this._cards.length,!1)),this._cards.push(new n.Card(this.domHelper,this,e+1,"heart",this._cards.length,!1)),this._cards.push(new n.Card(this.domHelper,this,e+1,"spade",this._cards.length,!1));return this.visible&&(this.$deck=this.domHelper.createDeckFrag(),this.$deck.click(function(){return t.actionable?t.game.onDeckClick():void 0})),this},t}();e.Deck=i},function(t,e,r){var n,i,o={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,d=0,u=[],h=r(12);function l(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(m(n.parts[a],e))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(m(n.parts[a],e));o[n.id]={id:n.id,refs:1,parts:s}}}}function p(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function f(t,e){var r=s(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),u.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,i)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function b(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),f(t,e),e}function g(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function m(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=d++;r=c||(c=b(e)),n=C.bind(null,r,a,!1),i=C.bind(null,r,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),f(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=h(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,r,e),i=function(){y(r),r.href&&URL.revokeObjectURL(r.href)}):(r=b(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){y(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=p(t,e);return l(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var a=r[i];(s=o[a.id]).refs--,n.push(s)}t&&l(p(t,e),e);for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var v,_=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function C(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var a;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.$container=t,this.$frag=$(document.createDocumentFragment())}return t.prototype.updateEl=function(t,e){var r=e.x,n=e.y,i=e.zIndex,o=e.rotateX,a=e.rotateY,s=e.rotateZ;t.prop("style","transform: translate("+r+"px, "+n+"px) "+(o?"rotateX("+o+"deg) ":"")+(a?"rotateY("+a+"deg) ":"")+(s?"rotateZ("+s+"deg) ":"")+"; "+(i?"z-index: "+i+";":""))},t.prototype.renderFrag=function(){this.$container.append(this.$frag)},t}();e.DomHelper=n},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createDeckFrag=function(){var t=$('\n\t\t\t<div class="deck"></div>\n\t\t');return this.$frag.append(t),t},e.prototype.showPlayButton=function(t){t.addClass("play-button--show")},e.prototype.hidePlayButton=function(t){t.removeClass("play-button--show")},e.prototype.createPlayButtonFrag=function(){var t=$('\n\t\t\t<button class="play-button">Play</button>\n\t\t');return this.$frag.append(t),t},e.prototype.createCardFrag=function(t,e){var r=$('\n\t\t\t<div class="card '+(e?"":"card--hidden")+'">\n\t\t\t\t<img class="card__front" src="/assets/cards/'+t+'.svg">\n\t\t\t\t<img class="card__back" src="/assets/cards/card_back.png">\n\t\t\t</div>\n\t\t');return this.$frag.append(r),r},e}(r(5).DomHelper);e.CardGameDomHelper=o},function(t,e,r){t.exports=r.p+"257e812611d1030aa4246c59e4961a06.png"},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,r){var n=r(8);(t.exports=r(4)(!1)).push([t.i,".deck{width:125px;height:175px;background-image:url("+n(r(7))+");background-size:cover;background-repeat:no-repeat;background-position:50%;user-select:none;-webkit-user-drag:none;position:relative}.deck.actionable{cursor:pointer;box-shadow:0 0 5px #add8e6}.deck.actionable:hover{box-shadow:0 0 10px 5px #add8e6}.card{width:125px;height:175px;box-shadow:0 0 5px rgba(0,0,0,.5);position:absolute;transition:transform .2s;transform-style:preserve-3d;will-change:transform}.card.actionable{cursor:pointer;box-shadow:0 0 5px #add8e6}.card.actionable:hover{box-shadow:0 0 10px 5px #add8e6}.card .card__back,.card .card__front{position:absolute;width:125px;height:175px;user-select:none;-webkit-user-drag:none;backface-visibility:hidden}.card .card__back{transform:rotateX(180deg)}.card--hidden{display:none}.play-button{position:absolute}",""])},function(t,e,r){var n=r(9);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(3)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(){}return t.sortCards=function(e,r,n,i){void 0===n&&(n=t.DEFUALT_SUIT_VALUE_SYSTEM),void 0===i&&(i=t.DEFUALT_NUMBER_VALUE_SYSTEM),"function"==typeof r?e.sort(r):r==t.COMPARE_BY_SUIT?e.sort(function(t,e){return t.suit==e.suit?i.indexOf(t.number)-i.indexOf(e.number):n.indexOf(t.suit)-n.indexOf(e.suit)}):e.sort(function(t,e){return t.number==e.number?n.indexOf(t.suit)-n.indexOf(e.suit):i.indexOf(t.number)-i.indexOf(e.number)})},t.COMPARE_BY_SUIT="suit",t.COMPARE_BY_VALUE="value",t.DEFUALT_SUIT_VALUE_SYSTEM=[n.Card.CLUB,n.Card.DIAMOND,n.Card.HEART,n.Card.SPADE],t.DEFUALT_NUMBER_VALUE_SYSTEM=[2,3,4,5,6,7,8,9,10,n.Card.JACK,n.Card.QUEEN,n.Card.KING,n.Card.ACE],t}();e.CardUtils=i},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){(t.exports=r(4)(!1)).push([t.i,".gameboard{width:100%;background-image:radial-gradient(50% 38%,#53c230,#138300)}.gameboard,body,html{height:100%}body{margin:0}.hidden{visibility:hidden}#info-tray{z-index:99;position:fixed;bottom:0;right:0}#info-tray #info-tray-body{padding:10px}#info-tray #info-tray-body a.icon-link{color:#000}#info-tray #info-tray-body a.icon-link:hover{color:#262626}#info-tray #info-tray-body a:not(.icon-link){color:#0056b3;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}#info-tray #info-tray-body a:not(.icon-link):hover{color:#003166;text-decoration:underline}#info-tray #info-tray-body a,#info-tray #info-tray-body p,#info-tray #info-tray-body span{font-family:Arial,Helvetica,sans-serif}",""])},function(t,e,r){var n=r(13);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(3)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(14);var n=function(){return function(){}}();e.TabletopOptions=n;var i=function(){function t(t,e,r){this.$container=t,this.opts=e,this.domHelper=r,this.width=1080,this.height=720}return t.prototype.resize=function(){this.width=this.$container.width(),this.height=this.$container.height()},t}();e.Tabletop=i},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0});var i=r(15),o=r(1),a=r(2);r(10);var s=r(6),c=function(){function t(t,e){this.$container=t,this.opts=e,this._showPlayButton=!1,this.layoutOpts={cardWidth:125,cardHeight:175,playerPadding:20,cardSpacing:30,cardShift:20},this.domHelper=new s.CardGameDomHelper(this.$container),this.tabletop=new i.Tabletop(t,{players:e.players},this.domHelper),this.initializeDom(),this.initializePlayers(),this.initializeDeck(),this.resize(),this.domHelper.renderFrag(),this.startGame()}return Object.defineProperty(t.prototype,"showPlayButton",{get:function(){return this._showPlayButton},set:function(t){t!==this._showPlayButton&&(t?this.domHelper.showPlayButton(this.$playButton):this.domHelper.hidePlayButton(this.$playButton)),this._showPlayButton=t},enumerable:!0,configurable:!0}),t.prototype.initializeDom=function(){var t=this;this.$playButton=this.domHelper.createPlayButtonFrag(),$(window).resize(function(){t.resize()})},t.prototype.initializeDeck=function(){this.deck=new a.Deck(this.domHelper,this,this.opts.showDeck),!1!==this.opts.shuffle&&this.deck.shuffle("boolean"==typeof this.opts.shuffle?void 0:this.opts.shuffle),this.dealInitialCards(),this.opts.showDeck&&(this.deck.actionable=!0)},t.prototype.resize=function(){this.tabletop.resize(),this.opts.showDeck&&this.deck.resize(),this.players.forEach(function(t){return t.resize()})},t.prototype.dealInitialCards=function(){var t=this;this.players.forEach(function(e){return e.addCards(t.deck.get(t.opts.initialHandSize))})},t.prototype.initializePlayers=function(){var t;this.players=[],t=3===this.opts.players?["bottom","left","right"]:["bottom","left","top","right"];for(var e=0;e<this.opts.players;e++)this.players.push(new o.CardGamePlayer(this.domHelper,this,"Player "+(e+1),t[e],0!==e))},t.prototype.drawCard=function(t){var e=this.deck.get(1);return t.addCards(e),0===this.deck.cards.length&&(this.deck.actionable=!1),requestAnimationFrame(function(){return t.resize()}),e[0]},t.prototype.onDeckClick=function(){},t}();e.CardGame=c,n(r(0)),n(r(2)),n(r(1))},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this,e,{players:4,initialHandSize:5,showDeck:!0})||this;return r.container=e,r.playerIndex=0,r}return i(e,t),e.prototype.onDeckClick=function(){this.drawCard(this.players[this.playerIndex++]).actionable=1===this.playerIndex,this.playerIndex>=4&&(this.playerIndex=0)},e.prototype.onCardClick=function(){this.showPlayButton=!0},e.prototype.startGame=function(){this.deck.actionable=!0,this.players[0].cards.forEach(function(t){return t.actionable=!0})},e}(r(16).CardGame);e.DrawingCardsGame=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});new(r(17).DrawingCardsGame)($("#game"))}]);